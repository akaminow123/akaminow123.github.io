
Folder name: <input type="text" id="dir" />

File name: <input type="text" id="file" />

Input file: <input type="file" id="inp" onchange="readFile('inp')" /><br />
<p class="inp"></p>

<button onclick="gen_pf()">submit</button>

<p id="password"></p>



Pub: <input type="file" id="pub" onchange="readFile('pub')" /><br />
<p class="pub"></p>
Proof: <input type="file" id="pf" onchange="readFile('pf')" /><br />
<p class="pf"></p>

<script src=" https://cdn.jsdelivr.net/npm/snarkjs@0.7.3/build/snarkjs.min.js "></script>

<script>

const password = document.getElementById("password");
const inp = document.getElementById("inp");
var input_text;

function readFile(id) {

    const [file] = document.querySelector("input[id=" + id + "]").files;
    const reader = new FileReader();

    reader.onload = function(e) { 
        var result = JSON.parse(e.target.result);
        var formatted = JSON.stringify(result, null, 24);
            input_text = result;
      }

      reader.readAsText(file);
    }

async function gen_pf() {
// inp.innerText = "A";
// password.innerText = input_text;
const { proof, publicSignals } = await snarkjs.groth16.fullProve({"sig_r": "1569741041891349428211619875629692646713878580488951882872807239978982417318", "sig_s_inv": "2033452189727618208592318078373181530458350425053777778404816841884189758687", "new_bucket": "1", "new_object": "2", "new_serial": 12345, "new_date": "240315", "password": 123, "old_buckets": ["0", "0"], "old_object_counts": [0, 0], "old_serial": 0, "old_dates" : [0,0,0,0], "r" : 5});
pub.innerText = publicSignals;
pf.innerText = proof;
}
</script>
